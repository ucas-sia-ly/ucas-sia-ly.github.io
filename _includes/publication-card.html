{% comment %}
Publication card component - displays a paper with teaser image and info
Usage: {% include publication-card.html post=paper %}
{% endcomment %}

{% include base_path %}

<div class="publication-card">
  <div class="publication-card-container">
    <!-- Left: Image with Venue Badge -->
    <div class="publication-card-image">
      {% if include.post.venue %}
        <span class="venue-badge">{{ include.post.venue }}</span>
      {% endif %}
      {% if include.post.teaser %}
        <a href="{{ base_path }}{{ include.post.url }}">
          <img src="{{ include.post.teaser | prepend: '/images/' | prepend: base_path }}" alt="{{ include.post.title }}">
        </a>
      {% else %}
        <a href="{{ base_path }}{{ include.post.url }}">
          <img src="{{ base_path }}/images/500x300.png" alt="{{ include.post.title }}">
        </a>
      {% endif %}
    </div>
    
    <!-- Right: Content -->
    <div class="publication-card-content">
      <!-- Title -->
      <h3 class="publication-card-title">
        <a href="{{ base_path }}{{ include.post.url }}">{{ include.post.title }}</a>
      </h3>
      
      <!-- Authors -->
      {% if include.post.authors_short %}
        <p class="publication-card-authors">{{ include.post.authors_short }}</p>
      {% elsif include.post.authors %}
        <p class="publication-card-authors">
          {% for author in include.post.authors %}{{ author.name }}{% unless forloop.last %}, {% endunless %}{% endfor %}
        </p>
      {% endif %}
      
      <!-- Abstract / Description -->
      {% if include.post.abstract %}
        <p class="publication-card-abstract">{{ include.post.abstract | strip_newlines | truncate: 500 }}</p>
      {% elsif include.post.highlights %}
        <ul class="publication-card-highlights">
          {% for item in include.post.highlights %}
            <li>{{ item }}</li>
          {% endfor %}
        </ul>
      {% elsif include.post.excerpt %}
        <p class="publication-card-excerpt">{{ include.post.excerpt }}</p>
      {% endif %}
    </div>
  </div>
</div>
